

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Carte - Configurer la carte web avec le plugin &mdash; Lizmap 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Lizmap 1.0 documentation" href="../../index.html" />
    <link rel="up" title="Interface - Les onglets" href="index.html" />
    <link rel="next" title="Outils - Configurer les outils à afficher dans le client WEB" href="tools-tab.html" />
    <link rel="prev" title="Couches - Configurer les couches avec le plugin" href="layers-tab.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tools-tab.html" title="Outils - Configurer les outils à afficher dans le client WEB"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="layers-tab.html" title="Couches - Configurer les couches avec le plugin"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Lizmap 1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Le plugin Lizmap pour QGIS</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Interface - Les onglets</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Carte - Configurer la carte web avec le plugin</a><ul>
<li><a class="reference internal" href="#l-onglet-carte">L&#8217;onglet Carte</a></li>
<li><a class="reference internal" href="#outils-de-la-carte">Outils de la carte</a><ul>
<li><a class="reference internal" href="#impression-simple">Impression simple</a></li>
<li><a class="reference internal" href="#outils-de-mesure">Outils de mesure</a></li>
<li><a class="reference internal" href="#zoom-precedent-suivant">Zoom précédent/suivant</a></li>
<li><a class="reference internal" href="#positionnement-automatique">Positionnement automatique</a></li>
<li><a class="reference internal" href="#recherche-d-adresse">Recherche d&#8217;adresse</a></li>
</ul>
</li>
<li><a class="reference internal" href="#echelles">Échelles</a></li>
<li><a class="reference internal" href="#fonds-externes">Fonds externes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="layers-tab.html"
                        title="previous chapter">Couches - Configurer les couches avec le plugin</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tools-tab.html"
                        title="next chapter">Outils - Configurer les outils à afficher dans le client WEB</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lizmap-plugin/interface/map-tab.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="carte-configurer-la-carte-web-avec-le-plugin">
<h1>Carte - Configurer la carte web avec le plugin<a class="headerlink" href="#carte-configurer-la-carte-web-avec-le-plugin" title="Permalink to this headline">¶</a></h1>
<div class="section" id="l-onglet-carte">
<h2>L&#8217;onglet Carte<a class="headerlink" href="#l-onglet-carte" title="Permalink to this headline">¶</a></h2>
<p>Cet onglet vous permet d&#8217;activer ou désactiver des outils, de choisir les échelles et les fonds externes.</p>
<img alt="../../_images/interface-map-tab.png" class="align-center" src="../../_images/interface-map-tab.png" style="width: 80%;" />
</div>
<div class="section" id="outils-de-la-carte">
<h2>Outils de la carte<a class="headerlink" href="#outils-de-la-carte" title="Permalink to this headline">¶</a></h2>
<div class="section" id="impression-simple">
<h3>Impression simple<a class="headerlink" href="#impression-simple" title="Permalink to this headline">¶</a></h3>
<p>Pour proposer l&#8217;impression sur la carte en ligne, il faut que le projet QGIS ait au moins un composeur d&#8217;impression.</p>
<p>Si cette case est cochée, Lizmap Web Client utilisera le premier composeur d&#8217;impression trouvé dans la liste des composeurs du projet QGIS.</p>
<p>Lorsque l&#8217;impression simple est activée, et que l&#8217;utilisateur clique sur l&#8217;outil dans Lizmap Web Client, un rectangle est dessiné sur la carte en ligne. Ce rectangle représente le premier cadre de carte du composeur d&#8217;impression. Les proportions sont équivalentes, ce qui permet d&#8217;assurer que la zone imprimée dans le pdf correspond exactement à ce que l&#8217;utilisateur choisit.</p>
<p>L&#8217;utilisateur peut déplacer ce rectangle puis cliquer sur le bouton imprimer.</p>
</div>
<div class="section" id="outils-de-mesure">
<h3>Outils de mesure<a class="headerlink" href="#outils-de-mesure" title="Permalink to this headline">¶</a></h3>
<p>Lorsque cette option est activée, l&#8217;utilisateur de la carte en ligne voit le menu <strong>Mesure</strong> apparaître dans l&#8217;interface.</p>
<p>Lorsqu&#8217;il clique sur ce menu, une liste déroulante propose de mesurer</p>
<ul class="simple">
<li>une aire</li>
<li>une longueur</li>
<li>un périmètre</li>
</ul>
<p>Pour réaliser la mesure, l&#8217;utilisateur clique sur la carte les points successifs de mesure. Un message affiche le résultat de la mesure au fil de l&#8217;ajout de points. Un double clic sur la carte permet de finaliser la mesure.</p>
</div>
<div class="section" id="zoom-precedent-suivant">
<h3>Zoom précédent/suivant<a class="headerlink" href="#zoom-precedent-suivant" title="Permalink to this headline">¶</a></h3>
<p>Cette option permet d&#8217;ajouter 2 boutons sous la barre de navigation (celle qui contient les boutons de zoom et la barre de sélection de l&#8217;échelle).</p>
<p>Tout déplacement sur la carte est enregistré : glisser-déplacer, zoom avant, zoom arrière. Ces 2 boutons permettent à l&#8217;utilisateur de revenir d&#8217;un ou plusieurs emprises en arrière ou en avant.</p>
</div>
<div class="section" id="positionnement-automatique">
<h3>Positionnement automatique<a class="headerlink" href="#positionnement-automatique" title="Permalink to this headline">¶</a></h3>
<p>Cette option ajoute dans l&#8217;interface un menu <strong>Géolocalisation</strong> .</p>
<p>Lorsque l&#8217;utilisateur active cet outil, une demande de positionnement est faite via le navigateur. En fonction de l&#8217;appareil utilisé et de la connexion internet, le navigateur peut:</p>
<ul class="simple">
<li>soit utiliser l&#8217;api de géolocalisation</li>
<li>soit les données du GPS s&#8217;il existe et est activé.</li>
</ul>
<p><em>La carte est automatiquement re-centrée sur la localisation récupérée par le navigateur.</em></p>
<p>Cet outil peut donc être intéressant si on souhaite consulter la carte Lizmap en ligne depuis son matériel mobile (smartphone, tablette durcie, etc.). Il faut une connection internet active et activer le GPS de l&#8217;appareil.</p>
</div>
<div class="section" id="recherche-d-adresse">
<h3>Recherche d&#8217;adresse<a class="headerlink" href="#recherche-d-adresse" title="Permalink to this headline">¶</a></h3>
<p>Il est possible de choisir un moteur externe de recherche d&#8217;adresses ou de lieux. Les moteurs disponibles sont les suivants:</p>
<ul>
<li><p class="first"><strong>Nominatim</strong></p>
<p>C&#8217;est le moteur officiel du projet OpenStreetMap (<a class="reference external" href="http://osm.org">http://osm.org</a> et <a class="reference external" href="http://nominatim.openstreetmap.org/">http://nominatim.openstreetmap.org/</a> ). Il permet de faire des recherches d&#8217;adresse, du type &#8220;Rue Foch, Montpellier&#8221; ou de points d&#8217;intérêts, du type &#8220;Tour eiffel&#8221; ou encore &#8220;Au panier gourmand, montpellier&#8221;.</p>
</li>
</ul>
<p>Important:  <strong>La recherche d&#8217;adresse est limitée à l&#8217;emprise du projet QGIs spécifiée dans l&#8217;onglet &#8220;Serveur OWS&#8221; des propriétés du projet QGIS.</strong></p>
</div>
</div>
<div class="section" id="echelles">
<h2>Échelles<a class="headerlink" href="#echelles" title="Permalink to this headline">¶</a></h2>
<p>Lizmap vous permet de choisir les échelles d&#8217;affichage que vous souhaitez utiliser dans l&#8217;application Web. Vous pouvez donc renseigner une liste d&#8217;échelles via cette option.</p>
<p>Pour configurer les échelles, il suffit d&#8217;écrire une liste d&#8217;échelles entières séparées par une virgule (et optionnellement un espace), par exemple: <em>250000, 100000, 50000</em>.</p>
<p>Lizmap utilise aussi ces échelles pour restreindre l&#8217;affichage entre les échelles minimum et maximum données. C&#8217;est pourquoi <strong>il est obligatoire de renseigner au moins 2 échelles</strong> dans la liste</p>
<p>Les 2 échelles minimum et maximum sont automatiquement extraites et affichées pour rappel dans les champs situés sous le champ texte.</p>
</div>
<div class="section" id="fonds-externes">
<h2>Fonds externes<a class="headerlink" href="#fonds-externes" title="Permalink to this headline">¶</a></h2>
<p>Lizmap permet d&#8217;ajouter des fonds externes à la liste des fonds de carte</p>
<ul class="simple">
<li><em>OpenStreetMap</em> : fond officiel et fond Mapquest</li>
<li><em>Google</em> : Rues, Satellite, Hybride, Relief</li>
</ul>
<p>L&#8217;ajout d&#8217;un ou de plusieurs fond(s) externe(s) à votre carte Lizmap a plusieurs conséquences, qu&#8217;il faut bien connaître pour anticiper le rendu :</p>
<ul>
<li><p class="first"><strong>c&#8217;est ce fond externe qui imposera les échelles de la carte</strong>. Les échelles configurées ci-dessus ne seront donc pas utilisées, sauf les échelles min et max pour restreindre la carte entre ces 2 échelles.</p>
<p>Il faut donc faire attention dans le projet QGIS à adapter les seuils de visibilités des couches en fonction des échelles du fond externe. Voici les échelles entières approximatives des fonds externes courants:</p>
<div class="highlight-python"><pre>0   591659008
1   295829504
2   147914752
3   73957376
4   36978688
5   18489344
6   9244672
7   4622336
8   2311168
9   1155584
10  577792
11  288896
12  144448
13  72224
14  36112
15  18056
16  9028
17  4514
18  2257</pre>
</div>
</li>
<li><p class="first">L&#8217;affichage des données du projet QGIS se faisant sur un fond externe, <strong>QGIS doit donc reprojeter à la volée les données dans le système spatial de référence du fond</strong> Il faut donc ajouter cette projection dans l&#8217;onglet OWS des propriétés du projet. Pour l&#8217;instant, l&#8217;ensemble des fonds proposés utilise la projection:</p>
<div class="highlight-python"><pre>EPSG:3857 ; Pseudo Mercator</pre>
</div>
</li>
<li><p class="first"><strong>Les fonds externes ne peuvent pas être imprimés par QGIS</strong></p>
<p>En effet, ils ne sont pas dans le projet QGIS, et sont ajoutés dynamiquement par Lizmap Web Client.</p>
</li>
<li><p class="first"><strong>Respecter la licence des données et les conditions d&#8217;utilisation</strong></p>
<ul class="simple">
<li><em>Google</em>: <a class="reference external" href="https://developers.google.com/maps/terms">https://developers.google.com/maps/terms</a></li>
<li><em>OpenStreetMap</em>: <a class="reference external" href="http://wiki.openstreetmap.org/wiki/FR:Tile_usage_policy">http://wiki.openstreetmap.org/wiki/FR:Tile_usage_policy</a></li>
<li><em>Mapquest</em>: <a class="reference external" href="http://developer.mapquest.com/web/products/open/map#terms">http://developer.mapquest.com/web/products/open/map#terms</a></li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tools-tab.html" title="Outils - Configurer les outils à afficher dans le client WEB"
             >next</a> |</li>
        <li class="right" >
          <a href="layers-tab.html" title="Couches - Configurer les couches avec le plugin"
             >previous</a> |</li>
        <li><a href="../../index.html">Lizmap 1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Le plugin Lizmap pour QGIS</a> &raquo;</li>
          <li><a href="index.html" >Interface - Les onglets</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, 3liz.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>