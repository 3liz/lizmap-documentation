

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Les médias dans Lizmap &mdash; Lizmap 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Lizmap 1.0 documentation" href="../../index.html" />
    <link rel="up" title="Fonctionnalités avancées de Lizmap" href="index.html" />
    <link rel="next" title="Configurer les popups dans Lizmap" href="popups.html" />
    <link rel="prev" title="Fonctionnalités avancées de Lizmap" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="popups.html" title="Configurer les popups dans Lizmap"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Fonctionnalités avancées de Lizmap"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Lizmap 1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Le plugin Lizmap pour QGIS</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Fonctionnalités avancées de Lizmap</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Les médias dans Lizmap</a><ul>
<li><a class="reference internal" href="#principe-d-utilisation">Principe d&#8217;utilisation</a></li>
<li><a class="reference internal" href="#utilisation-pour-les-liens">Utilisation pour les liens</a></li>
<li><a class="reference internal" href="#utilisation-dans-les-popups">Utilisation dans les popups</a><ul>
<li><a class="reference internal" href="#principe">Principe</a></li>
<li><a class="reference internal" href="#exemple">Exemple</a></li>
<li><a class="reference internal" href="#resultat">Résultat</a></li>
<li><a class="reference internal" href="#illustration">Illustration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Fonctionnalités avancées de Lizmap</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="popups.html"
                        title="next chapter">Configurer les popups dans Lizmap</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lizmap-plugin/features/medias.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="les-medias-dans-lizmap">
<span id="media-in-lizmap"></span><h1>Les médias dans Lizmap<a class="headerlink" href="#les-medias-dans-lizmap" title="Permalink to this headline">¶</a></h1>
<div class="section" id="principe-d-utilisation">
<h2>Principe d&#8217;utilisation<a class="headerlink" href="#principe-d-utilisation" title="Permalink to this headline">¶</a></h2>
<p>Il est possible de mettre à disposition des documents à travers Lizmap. Pour cela il faut simplement:</p>
<ul class="simple">
<li>créer un répertoire intitulé <strong>media</strong> (en minuscule et sans accents) <em>au même niveau que le projet QGIS</em></li>
<li><strong>y mettre des documents</strong>: des images, des rapports, des pdfs, des vidéos, des fichiers HTML ou texte.</li>
<li>Les documents contenus dans ce répertoire <strong>media</strong> sont donc <strong>synchronisés comme les autres données</strong> via la synchronisation FTP du plugin.</li>
<li>On peut utiliser des sous-répertoires par couche ou par thème: l&#8217;organisation du contenu du répertoire <strong>media</strong> est libre</li>
</ul>
<p>Ensuite dans Lizmap Web Client, on peut offrir un accès à ces documents pour 2 choses:</p>
<ul class="simple">
<li>les <strong>popups</strong> : le contenu d&#8217;une ou plusieurs colonne pour chaque géométrie peut préciser le chemin vers le média. Par exemple une colonne <em>photo</em>, ou bien une colonne <em>pdf</em></li>
<li>le <strong>lien</strong> indiqué pour chaque groupe ou couche via l&#8217;onglet <em>Couches</em> du plugin Lizmap</li>
</ul>
<p>Le détail de ces utilisation est précisé ci-dessous</p>
</div>
<div class="section" id="utilisation-pour-les-liens">
<h2>Utilisation pour les liens<a class="headerlink" href="#utilisation-pour-les-liens" title="Permalink to this headline">¶</a></h2>
<p>Il est possible d&#8217;utiliser un chemin relatif vers un document pour les liens des couches ou des groupes. Rappel: les liens peuvent être renseigné via l&#8217;onglet <strong>Couches</strong> du plugin Lizmap, après avoir sélectionné la couche ou le groupe qu&#8217;on souhaite renseigner. Voir <a class="reference internal" href="../interface/layers-tab.html#layers-tab-metadata"><em>Les métadonnées</em></a></p>
<p>Le chemin doit être écrit:</p>
<ul class="simple">
<li>en commençant par <strong>media/</strong></li>
<li>avec des slashs <strong>/</strong> et non des anti-slashs</li>
</ul>
<p>Quelques exemples:</p>
<ul class="simple">
<li><em>media/ma_couche/metadonnees_couche.pdf</em></li>
<li><em>media/rapports/mon_rapport_sur_la_couche.doc</em></li>
<li><em>media/une_image.png</em></li>
</ul>
<p>Sur la carte de Lizmap Web Client, si un lien a été configuré de cette manière pour une des couches, alors une icone (i) sera placée à droite de la couche. Un clic sur cet icône permet d&#8217;ouvrir le document lié dans un nouvel onglet du navigateur.</p>
</div>
<div class="section" id="utilisation-dans-les-popups">
<h2>Utilisation dans les popups<a class="headerlink" href="#utilisation-dans-les-popups" title="Permalink to this headline">¶</a></h2>
<div class="section" id="principe">
<h3>Principe<a class="headerlink" href="#principe" title="Permalink to this headline">¶</a></h3>
<p>Comme décrit dans l&#8217;introduction ci-dessus, on peut utiliser <strong>un chemin de media</strong> dans les données de la couche spatiale.</p>
<p>Par exemple, si on souhaite que les popups liées à une couche affichent une photo qui dépende de chaque objet, il suffit de créer une nouvelle colonne qui contiendra le chemin de media vers la photo pour chaque ligne de la table attributaire de la couche. Et ensuite d&#8217;activer les popups pour cette couche.</p>
</div>
<div class="section" id="exemple">
<h3>Exemple<a class="headerlink" href="#exemple" title="Permalink to this headline">¶</a></h3>
<p>Voici pour l&#8217;exemple la table attributaire d&#8217;une couche <em>paysage</em> configurée pour afficher des photos dans la popup. L&#8217;utilisateur a créé une colonne <em>photo</em> dans laquelle il place le chemin vers les photos, et une colonne <em>pdf</em> dans laquelle il met les chemins vers un fichier pdf décrivant l&#8217;objet correspondant à chaque ligne</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="15%" />
<col width="34%" />
<col width="34%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">id</th>
<th class="head">nom</th>
<th class="head">description</th>
<th class="head">photo</th>
<th class="head">pdf</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>Marais</td>
<td>blabla</td>
<td>media/photos/photo_1.png</td>
<td>media/docs/paysage-1.pdf</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>Plage</td>
<td>blibli</td>
<td>media/photos/photo_2.png</td>
<td>media/docs/paysage-2.pdf</td>
</tr>
<tr class="row-even"><td>3</td>
<td>Lande</td>
<td>bloblo</td>
<td>media/photos/photo_3.png</td>
<td>media/docs/paysage-3.pdf</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Dans cet exemple, on voit que les noms des fichiers des photos et des PDF sont normés. Nous conseillons de suivre cet exemple, car cela permet d&#8217;utiliser la calculatrice de QGIS pour créer ou mettre à jour les données des colonnes de média pour l&#8217;ensemble de la couche de manière automatisée.</p>
</div>
</div>
<div class="section" id="resultat">
<h3>Résultat<a class="headerlink" href="#resultat" title="Permalink to this headline">¶</a></h3>
<p>Voici les règles d&#8217;affichage dans la popup</p>
<ul class="simple">
<li>Si le chemin pointe <strong>vers une image, l&#8217;image sera affichée</strong> dans la popup. Un clic sur l&#8217;image affichera l&#8217;image originale dans un nouvel onglet.</li>
<li>Si le chemin pointe <strong>vers un fichier texte ou un fichier HTML, le contenu du fichier sera affiché</strong> dans la popup.</li>
<li>Pour les <strong>autres types de fichiers, la popup affichera un lien vers le document</strong>, que les utilisateurs pourront télécharger en cliquant sur le lien.</li>
</ul>
</div>
<div class="section" id="illustration">
<h3>Illustration<a class="headerlink" href="#illustration" title="Permalink to this headline">¶</a></h3>
<p>Ci-dessous, une illustration d&#8217;une popup Lizmap affichant une photo, un texte et un lien dans la popup:</p>
<img alt="../../_images/features-popup-photo-example.png" class="align-center" src="../../_images/features-popup-photo-example.png" style="width: 90%;" />
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Documentation complète sur les popups : <a class="reference internal" href="popups.html#popups-in-lizmap"><em>Configurer les popups dans Lizmap</em></a></p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="popups.html" title="Configurer les popups dans Lizmap"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Fonctionnalités avancées de Lizmap"
             >previous</a> |</li>
        <li><a href="../../index.html">Lizmap 1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Le plugin Lizmap pour QGIS</a> &raquo;</li>
          <li><a href="index.html" >Fonctionnalités avancées de Lizmap</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, 3liz.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>