Editing spatial data
====================

The map publisher can allow users to edit certain data. It also has the ability to limit possible changes:

* adding spatial object
* geometric modification
* fields modification
* deleting spatial object

The feature is available in the Lizmap menu bar. The edit menu allows you to select the data you want to update.

.. image:: /images/user-guide-19-edition-menu.jpg
   :align: center
   :scale: 80%

Once the layer selected, the edit pannel appears. This varies depending on the configuration desired by the map publisher. If any changes are available you have to choose between *Add* a new object or *Select* one.

.. image:: /images/user-guide-20-edition-add.jpg
   :align: center
   :scale: 80%

If you have selected *Add*, you will be asked to draw a simple form that depends on the selected data layer:

* point
* line
* polygon

In the case of line and polygon, you need to click several times to draw the shape you want.

.. image:: /images/user-guide-21-edition-add-draw.jpg
   :align: center
   :scale: 80%

To finish your line or your polygon you must add the last point by double-clicking the desired location. Once drawing finished, an editing form for fields will be displayed.

.. image:: /images/user-guide-22-edition-add-attributes.jpg
   :align: center
   :scale: 80%

If you want to restart drawing the geometry, you should click *Cancel*.

If the geometry is right for you and you have entered the required information, you can *Save*. The new object will be added. You will be able to update it by selecting it.

To select an object to update, you will need to click on it on the map then click on the button *Edit*.

.. image:: /images/user-guide-23-edition-select.jpg
   :align: center
   :scale: 80%

The selected object appears on the map and its geometry may be changed immediatly.

.. image:: /images/user-guide-26-edition-select-draw.jpg
   :align: center
   :scale: 80%

You can undo geometry changes using the *Cancel* button.

.. image:: /images/user-guide-27-edition-select-draw-undo.jpg
   :align: center
   :scale: 80%

To validate your geometry modifications or simply access the editing form for fields, you must click *Save*.

.. image:: /images/user-guide-28-edition-select-draw-validate.jpg
   :align: center
   :scale: 80%

A dialog box containing the editing form for fields of the object appears.

.. image:: /images/user-guide-29-edition-select-draw-form.jpg
   :align: center
   :scale: 80%

The *Save* button saves the geometry and attributes changes.

If you want to remove the object you selected, you must click *Del*.

Finally, to disable editing tool, simply click on *Close* or click again on the Edition icon.

.. image:: /images/user-guide-30-edition-stop.jpg
   :align: center
   :scale: 80%
