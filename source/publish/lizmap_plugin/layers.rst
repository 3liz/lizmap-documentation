
Layers â€” Settings for each layer
================================

.. contents::
   :depth: 3

Principle
---------

To set parameters for each layer in the project, which are related to the server or the behavior in Lizmap Web Client.

Configuring the tool
--------------------

The layer configuration is done in the :guilabel:`Layers` tab.

This tab shows the layers tree of the project with the same organization that is defined in the Layers panel.
You can select one of the tree elements, a layer or group, and then configure the options for the selected group or layer.

.. image:: /images/interface-layers-tab-01.jpg
   :align: center
   :scale: 80%

Information about groups and layers:

* :guilabel:`Title`: It will be used in the Web layers tree instead of the name. For layers, the *Title* field is linked to that of the *QGIS Server* tab in the layer properties window
* :guilabel:`Abstract`: It allows to describe the layer or group. It is displayed in the mouseover. For layers, the *Abstract* Field is linked to that of the *QGIS Server* tab in the layer properties window
* :guilabel:`Link`: The URL of a document or a web page describing the layer or group.

    An icon |properties_svg| appears in the Lizmap legend if the link has been set. You can use the :ref:`media` folder to build an internal link.
    The button |refresh_svg| will pick the value set in the :menuselection:`Layer Properties --> QGIS Server --> DataUrl`.

Layers options:

* :guilabel:`Toggled`: allows you to specify whether a layer is displayed by default
* :guilabel:`Display in legend tree`: toggles visibility of the layer in the layers tree; when toggled off, it does not allow the user to manage the display of it
* :guilabel:`Hide legend image`: allows you to hide the legend of the layer in the web interface
* :guilabel:`Group as layer`: Option to use on a group in the legend to display it as a single layer, read below
* :guilabel:`Base layer`: sets the layer as a base map. This will be accessible via the list of basemap
* :guilabel:`Activate popup`: enables information popups on map's interrogation by clicking. See :ref:`popup`
* :guilabel:`Single Tile`: selects the layer display mode. It can be displayed as multiple images, tiles, or a single image generated by the server
* :guilabel:`Image format`:

  * ``png``: full image format, full range of colors with transparency
  * ``png; mode=16bit``: lighter image format, panel color restricted with transparency
  * ``png; mode=8bit``: very light image format, color panel restricts to the maximum with transparency, possible degradation of the image
  * ``jpeg``: light image format without transparency with loss of quality

.. image:: /images/interface-layers-tab-02.jpg
   :align: center
   :width: 80%

If the layer is provided by a WMS service and that it supports the Web map Coordinate Reference System, it is possible to :guilabel:`Directly Request images to the WMS server`. This reduces the QGIS-Server load and optimize Lizmap. This option is available in the :guilabel:`Third Party WMS layers` group.

The group options:

* :guilabel:`Group as layer`:

  * transforms a group in a single layer in the web interface
  * used to group layers with scale dependent  visibility
  * simplifies the interface to the users of the Web map
  * to create a base map from multiple layers

* if the group is a layer other options apply to it.
* Server tile cache
